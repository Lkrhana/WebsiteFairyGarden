<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1440">
  <title>Product Detail - Fairy Garden</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Jacquarda+Bastarda+9&family=Metal&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="product-detail.css">
</head>

<body>
  <div id="header-container"></div>

  <!-- ===== PRODUCT DETAIL ===== -->
  <section class="product-detail">
    <div class="product-container">
      <div class="product-image">
        <img src="" alt="Product Image">
      </div>

      <div class="product-info">
        <h2>Nama Bunga</h2>
        <p class="price">Rp. xxx.xxx</p>
        <p class="desc">Deskripsi singkat bunga.</p>

        <details class="details-box" open>
          <summary>PICK UP/DELIVERY DETAILS</summary>
          <form class="delivery-form">
            <div class="input-row">
              <label>Delivery Option:</label>
              <div class="radio-group">
                <label><input type="radio" name="deliveryOption" value="Delivery" checked> Delivery</label>
                <label><input type="radio" name="deliveryOption" value="Pick Up"> Pick Up</label>
              </div>
            </div>

            <div class="input-row">
              <label>Delivery Date:</label>
              <input type="date" name="deliveryDate">
            </div>

            <div class="input-row">
              <label>Delivery Time:</label>
              <input type="time" name="deliveryTime">
            </div>

            <div class="input-row">
              <label>Sender Name:</label>
              <input type="text" name="senderName" placeholder="Nama Pengirim">
            </div>

            <div class="input-row">
              <label>Sender Phone:</label>
              <input type="tel" name="senderPhone" placeholder="08xxxxxxxxxx">
            </div>
          </form>
        </details>

        <details class="details-box">
          <summary>MESSAGE ON CARD (TO BE PRINTED)</summary>
          <form class="message-form">
            <div class="input-row">
              <label>From:</label>
              <input type="text" name="msgFrom" placeholder="Nama Pengirim">
            </div>
            <div class="input-row">
              <label>To:</label>
              <input type="text" name="msgTo" placeholder="Nama Penerima">
            </div>
            <div class="input-row">
              <label>Message:</label>
              <textarea name="msgText" rows="3" placeholder="Tulis pesan Anda di sini..."></textarea>
            </div>
          </form>
        </details>

        <button class="add-cart">ADD TO CART</button>
        <p class="note">Please fill all the required fields.</p>
      </div>
    </div>
  </section>

  <!-- ===== RELATED PRODUCTS ===== -->
  <section class="related-products">
    <h2 class="section-title">YOU MAY ALSO LIKE</h2>
    <div class="related-grid" id="related-products"></div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer>
    <p><b>YOU CAN FIND US ON</b></p>
    <p><i class="fa-brands fa-instagram"></i> @fairygarden &nbsp;&nbsp;
      <i class="fa-regular fa-envelope"></i> fairygarden@gmail.com</p>
  </footer>

  <!-- ====== SCRIPT PRODUK DAN RELATED ====== -->
  <script>
document.addEventListener("DOMContentLoaded", () => {
  // === DATA PRODUK ===
  const products = {
    "rose-harmony": { name: "Rose Harmony", price: "Rp. 250.000", desc: "Rangkaian mawar merah muda segar...", img: "https://i.pinimg.com/1200x/68/a1/48/68a14894f37c6659176c61a20a57bb0d.jpg" },
    "lily-blossom": { name: "Lily Blossom", price: "Rp. 275.000", desc: "Lily putih elegan dengan aroma menenangkan...", img: "https://i.pinimg.com/736x/99/e2/ab/99e2ab5199035c32e4a4b1f564e76d0c.jpg" },
    "tulip-delight": { name: "Tulip Delight", price: "Rp. 300.000", desc: "Tulip lembut berwarna pastel...", img: "https://i.pinimg.com/736x/bd/6a/ec/bd6aec14520f3b5763ac221063db719e.jpg" },
    "peony-grace": { name: "Peony Grace", price: "Rp. 285.000", desc: "Peony pink cantik melambangkan kasih...", img: "https://i.pinimg.com/736x/84/86/2b/84862b87ef673479e8487f2dd549c75e.jpg" },
    "sunflower-joy": { name: "Sunflower Joy", price: "Rp. 260.000", desc: "Keceriaan bunga matahari yang hangat...", img: "https://i.pinimg.com/1200x/93/ab/8c/93ab8c4747d23016d3b6cbc1194c0a63.jpg" },
    "daisy-charm": { name: "Daisy Charm", price: "Rp. 230.000", desc: "Rangkaian bunga daisy putih yang sederhana...", img: "https://i.pinimg.com/736x/1e/df/fb/1edffbba617cbfe9c3576aead8e823ee.jpg" },
    "orchid-dream": { name: "Orchid Dream", price: "Rp. 350.000", desc: "Orchid elegan dengan sentuhan pastel...", img: "https://i.pinimg.com/1200x/14/2f/b2/142fb23313806b79364dd24c19447b8a.jpg" },
    "morning-dew": { name: "Morning Dew", price: "Rp. 260.000", desc: "Segar seperti embun pagi...", img: "https://i.pinimg.com/736x/d5/6d/23/d56d2305d1527fa33896572a2b18427c.jpg" },
    "cherry-petal": { name: "Cherry Petal", price: "Rp. 255.000", desc: "Terinspirasi kelopak sakura...", img: "https://i.pinimg.com/736x/e1/0b/ba/e10bbada0ece4c4c753717fe8b164f92.jpg" },
    "garden-kiss": { name: "Garden Kiss", price: "Rp. 330.000", desc: "Warna cerah seperti taman musim semi...", img: "https://i.pinimg.com/736x/1f/56/0c/1f560c0c5d32f995047c2385301f2cb9.jpg" },
    "magnolia-dream": { name: "Magnolia Dream", price: "Rp. 340.000", desc: "Keanggunan alami dan kemurnian hati.", img: "https://i.pinimg.com/1200x/c3/03/a4/c303a4f2e6ece3bbc1261debdff048ed.jpg" },
    "sweet-pea": { name: "Sweet Pea", price: "Rp. 265.000", desc: "Manis dan menawan...", img: "https://i.pinimg.com/1200x/72/db/e4/72dbe498c634f83740944007f3a342eb.jpg" },
    "spring-waltz": { name: "Spring Waltz", price: "Rp. 295.000", desc: "Tarian lembut bunga musim semi.", img: "https://i.pinimg.com/736x/7f/ac/b2/7facb2844c9179a9cd21f651e662233f.jpg" },
    "evening-charm": { name: "Evening Charm", price: "Rp. 310.000", desc: "Menawan seperti senja yang hangat.", img: "https://i.pinimg.com/1200x/7c/e7/77/7ce777fc884d61cb2bdb9b70c7e2b407.jpg" },
    "peach-blossom": { name: "Peach Blossom", price: "Rp. 280.000", desc: "Ketulusan yang manis dan elegan.", img: "https://i.pinimg.com/1200x/3f/2e/13/3f2e131e40a21ee150c3dc15b1aeb0c3.jpg" },
    "carnation-bliss": { name: "Carnation Bliss", price: "Rp. 240.000", desc: "Rangkaian bunga anyelir lembut yang melambangkan kasih sayang dan perhatian tulus. Warna-warnanya yang hangat menghadirkan ketenangan dan keindahan di setiap momen spesial.", img: "//i.pinimg.com/1200x/9e/71/1e/9e711e33e43ad8a805459c941bd8ff01.jpg"}
  };

  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");
  const product = products[id];

  if (product) {
    document.querySelector(".product-image img").src = product.img;
    document.querySelector(".product-info h2").textContent = product.name;
    document.querySelector(".price").textContent = product.price;
    document.querySelector(".desc").textContent = product.desc;
  }

  // === RELATED PRODUCTS ===
  const relatedContainer = document.getElementById("related-products");
  Object.keys(products)
    .filter(key => key !== id)
    .slice(0, 4)
    .forEach(key => {
      const p = products[key];
      const card = document.createElement("div");
      card.classList.add("product-card");
      card.innerHTML = `<a href="product-detail.html?id=${key}">
          <img src="${p.img}" alt="${p.name}">
          <b>${p.name}</b><div>${p.price}</div></a>`;
      relatedContainer.appendChild(card);
    });

  // === SAVE DETAILS TO LOCALSTORAGE ===
  function saveDetails() {
    const form = document.querySelector(".delivery-form");
    const msgForm = document.querySelector(".message-form");
    const data = {
      deliveryOption: form.deliveryOption.value,
      deliveryDate: form.deliveryDate.value,
      deliveryTime: form.deliveryTime.value,
      senderName: form.senderName.value,
      senderPhone: form.senderPhone.value,
      msgFrom: msgForm.msgFrom.value,
      msgTo: msgForm.msgTo.value,
      msgText: msgForm.msgText.value
    };
    localStorage.setItem("orderDetails", JSON.stringify(data));
  }

  // === ADD TO CART ===
  const addCartBtn = document.querySelector(".add-cart");
  if (addCartBtn) {
    addCartBtn.addEventListener("click", () => {
      saveDetails();

      const name = document.querySelector(".product-info h2").textContent;
      const priceText = document.querySelector(".price").textContent.replace(/[^\d]/g, "");
      const price = parseInt(priceText || "0");
      const img = document.querySelector(".product-image img").src;

      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const existing = cart.find(item => item.id === id);

      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ id, name, price, img, quantity: 1 });
      }

      localStorage.setItem("cart", JSON.stringify(cart));
      alert(`${name} berhasil ditambahkan ke keranjang! ðŸŒ¸`);
      window.location.href = "cart.html";
    });
  }
});
</script>
<script>
  fetch("header.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("header-container").innerHTML = data;

      // Aktifkan dropdown interaktif
      const dropdowns = document.querySelectorAll(".dropdown");
      dropdowns.forEach(dd => {
        dd.addEventListener("mouseenter", () => {
          dd.querySelector(".dropdown-menu").style.display = "block";
        });
        dd.addEventListener("mouseleave", () => {
          dd.querySelector(".dropdown-menu").style.display = "none";
        });
      });
    })
    .catch(err => console.error("Gagal memuat header:", err));
</script>